<mat-horizontal-stepper [linear]="isLinear" #stepper name="mat-horizontal-stepper ">
  <mat-step [stepControl]="firstFormGroup" name="mat-step-firstFormGroup">
    <mat-dialog-content class="mat-typography" name="mat-dialog-content-first">
      <form [formGroup]="firstFormGroup" name="firstFormGroup" *ngFor="let item of dataBinding.option;let k = index">
        <ng-template name="ng-template-firstFormGroup" matStepLabel>{{item.name}}</ng-template>
        <div class="row" name="divRowValue">
          <div name="divColValue" class="col-12 col-sm-6 col-md-3 mb-3" *ngFor="let itm of item.value ;let i = index"
            (click)="select(itm,i,k)">
            <mat-card name="cardValue" class="example-card card-height pt-2 text-center">
              <mat-card-content name="mat-card-content-name-value">
                <p name="nameValue">
                  {{itm.name}}
                </p>
              </mat-card-content>
              <div class="row">
                <div name="colIcon" class="col-12 text-center col-md-12">
                  <i name="iconCheck" class="material-icons icon " *ngIf="itm.active">
                    check_circle_outline
                  </i>
                </div>
                <!-- <div name="colIconMd-none" class="col-12 text-center d-md-none">
                  <i name="iconCheckMd-none" class="material-icons icon icon-position" *ngIf="itm.active">
                    check_circle_outline
                  </i>
                </div> -->
              </div>

            </mat-card>
          </div>
        </div>
        <div class="row">

        </div>
      </form>
    </mat-dialog-content>
    <mat-dialog-actions name="mat-dialog-actions-first">
      <div name="divColBtnBack" class="col-6 text-left">
          <mat-checkbox  [(ngModel)]="checked" (change)="selectall()">เลือกทั้งหมด</mat-checkbox>
      </div>
      <div name="divColBtnDone" class="col-6 text-right">
        <button name="btnNextFirst" mat-button matStepperNext (click)="next()"
          [disabled]="selectOption.length < 1">ถัดไป</button>
      </div>


    </mat-dialog-actions>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup" name="mat-step-second">
    <mat-dialog-content class="mat-typography" name="mat-dialog-content-second">
      <form [formGroup]="secondFormGroup" name="form-second">

        <ng-template name="ng-template-qty" matStepLabel>ระบุจำนวน</ng-template>
        <div name="divOptionProduct" class="row" *ngFor="let optionProd of selectOption;let l = index">
          <div name="divColNotUseNow" class="col-2 text-right">
            <!-- <button mat-button class="border-add"><span class="font-size">-</span></button> -->
          </div>
          <div class="col-8 text-center" name="divColOption">
            <span name="optionProduct" class="mr-3">ตัวเลือก: </span>
            <span name="nameProduct" class="mr-3">{{optionProd.name}}</span>
            <mat-form-field name="mat-form-field-key-qty">
              <!-- <input class="font-input" matInput [(ngModel)]="qty" formControlName="secondCtrl" required> -->
              <input name="keyQty" matInput placeholder="กรุณากรอกจำนวนสินค้า (ขั้นต่ำ 1 ชิ้น)"
                (ngModelChange)="addQty(l,$event)" [value]="!optionProd.qty ? 1 : optionProd.qty"
                formControlName="secondCtrl" myNumberOnly>
            </mat-form-field>
          </div>
          <div name="divColNotUseNow2" class="col-2 text-left">
            <!-- <button mat-button class="border-add"> <span class="font-size">+</span> </button> -->
          </div>
        </div>

        <div class="row">

        </div>
      </form>
    </mat-dialog-content>
    <mat-dialog-actions name="mat-dialog-actions-second">
      <div name="divColBtnBack" class="col-6 text-left">
        <button name="btnBack" mat-button matStepperPrevious>ย้อนกลับ</button>

      </div>
      <div name="divColBtnDone" class="col-6 text-right">
        <button mat-button name="btnDone" (click)="nextconfirm(stepper)">ถัดไป</button>

      </div>
    </mat-dialog-actions>
  </mat-step>
  <mat-step [stepControl]="thirdFormGroup" name="mat-step-third">
    <mat-dialog-content class="mat-typography" name="mat-dialog-content-third">
      <form [formGroup]="thirdFormGroup" name="form-second">
        <ng-template name="ng-template-แนืดรพท" matStepLabel>ยืนยันรายการ</ng-template>
        <h1>{{data.name}}</h1>
        <div class="row" name="divRowValue">
          <div name="divColValue" class="col-12 col-sm-6 col-md-3 mb-3" *ngFor="let itm of selectOption ;let i = index"
            (click)="select(itm,i,k)">
            <mat-card name="cardValue" class="example-card card-height pt-2 text-center">
              <mat-card-content name="mat-card-content-name-value">
                <p name="nameValue">
                  {{itm.name}}
                </p>
              </mat-card-content>
              <div class="row">
                <div name="colIcon" class="col-12 text-center col-md-12">
                  <h3 style="color:#ff4081">จำนวน {{itm.qty | number}} ชิ้น</h3>
                </div>

              </div>

            </mat-card>
          </div>
        </div>

        <div class="row">

        </div>
      </form>
    </mat-dialog-content>
    <mat-dialog-actions name="mat-dialog-actions-third">
      <div name="divColBtnBack" class="col-6 text-left">
        <button name="btnBack" mat-button matStepperPrevious>ย้อนกลับ</button>

      </div>
      <div name="divColBtnDone" class="col-6 text-right">
        <button mat-button name="btnDone" [disabled]="selectOption.length === 0" (click)="done()">ยืนยัน</button>

      </div>
    </mat-dialog-actions>
  </mat-step>
</mat-horizontal-stepper>